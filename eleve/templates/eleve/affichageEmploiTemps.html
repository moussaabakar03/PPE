{% load dict_utils %}
 {% load static%}
<!DOCTYPE html>
  <html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AcadPro-presence</title>
    {% include 'partial/head.html' %}
    <link rel="stylesheet" href="{% static 'eleve/style.css' %}">
      
    <style>
        
        .container {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            overflow-x: auto; /* permet le scroll horizontal si nécessaire */
          }
          
        .table-wrapper {
        overflow-x: auto;
        width: 100%;
        }

        h2 {
          font-size: 18px;
          margin-bottom: 10px;
          color: #333;
        }
        
        table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
        }

        th, td {
          text-align: left;
          padding: 8px;
          border: solid 0.5px black;
          border-collapse: collapse;
        }

        th {
          color:rgb(203, 150, 58);
          font-weight: bold;
          background: #f9f9f9;
        }

        tr:nth-child(even) {
          background: #f1f1f1;
        }

        .action-icons img {
          height: 24px;
          margin-right: 10px;
          cursor: pointer;
        }

        .flex-boxes {
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
        }

        .box {
          flex: 1;
          min-width: 300px;
        }

        .table-wrapper table tr {
            height: 70px; /* augmente la hauteur des lignes */
        }

        .detailEtudiant{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #ffa001;
          
            width: 50%;
            margin: 20px auto;
            border-radius: 10px;

        }

          .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgb(25, 25, 103);
            color: white;
            width: 40px;
            height: 40px;
            text-align: center;
            line-height: 40px;
            border-radius: 5px;
            text-decoration: none;
            opacity: 0.8;
        }
        
        .back-to-top:hover {
            opacity: 1;
        }
    </style>
  </head>
  <body>
   
    <div>
  
      {% include 'eleve/partial/header.html' %}

      <div class="dashboard-page-one">
          <div class="container">

              {% include 'eleve/partial/navBar.html' %}

              <div class="card height-auto">
                  <div class="table-responsive">
                      <table id="notesTable"  class="table display data-table text-nowrap"  style="width:100%; margin-bottom: 100px; ">
                        <thead>
                            <tr>
                                <th>Heure / Jour</th>
                                {% for jour in jours %}
                                    <th>{{ jour }}</th>
                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody>
                            {% for heure in heures %}
                            <tr>
                                <td>{{ heure }}</td>
                                {% for jour in jours %}
                                    {% with ligne=emploi_dict|dict_get:heure %}
                                        {% with emploi=ligne|dict_get:jour %}
                                            <td>
                                                {% if emploi %}
                                                    {{ emploi.cours.matiere.code }}
                                                {% else %}
                                                    -
                                                {% endif %}
                                            </td>
                                        {% endwith %}
                                    {% endwith %}
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <div class="col-12 form-group mg-t-8" style="display: flex; justify-content: center;">
                        <a href="{% url 'eleve:emploiDuTempsEtudiant' %}" class="btn-fill-lg bg-blue-dark btn-hover-yellow" style = "font-size: 15px;  margin-top: -70px; height: 50px;">Retour</a>
                    </div>
                  </div>
              </div>
          </div>
      </div>

      
      <a href="#" class="back-to-top">↑</a>
    </div>

      <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
          {% comment %} <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script> {% endcomment %}
          <script>
          $(document).ready(function () {
              $('#notesTable').DataTable({
              "language": {
                  "url": "//cdn.datatables.net/plug-ins/1.13.6/i18n/fr-FR.json"
              },
              // Désactiver les fonctionnalités de pagination et recherche
              "paging": false,
              "searching": false,
              "info": false,
              "ordering": true
              });
          });
      </script>
      {% comment %} <script src="{% static 'secretaire/js/jquery-3.3.1.min.js' %}"></script> {% endcomment %}
      <!-- Plugins js -->
      <script src="{% static 'secretaire/js/plugins.js' %}"></script>
      <!-- Popper js -->
      <script src="{% static 'secretaire/js/popper.min.js' %}"></script>
      <!-- Bootstrap js -->
      <script src="{% static 'secretaire/js/bootstrap.min.js' %}"></script>
      <!-- Scroll Up Js -->
      <script src="{% static 'secretaire/js/jquery.scrollUp.min.js' %}"></script>
      <!-- Custom Js -->
      <script src="{% static 'secretaire/js/main.js' %}"></script>
      
  </body>
</html>


